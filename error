# Replace the problematic RUN command with this corrected version
# Install GitHub Actions Runner with proper architecture mapping
RUN if [ "$TARGETPLATFORM" = "linux/amd64" ]; then \
        RUNNER_ARCH="x64"; \
    elif [ "$TARGETPLATFORM" = "linux/arm64" ]; then \
        RUNNER_ARCH="arm64"; \
    else \
        echo "Unsupported platform: $TARGETPLATFORM"; exit 1; \
    fi \
    && curl -L -o actions-runner.tar.gz \
        "https://github.com/actions/runner/releases/download/v${RUNNER_VERSION}/actions-runner-linux-${RUNNER_ARCH}-${RUNNER_VERSION}.tar.gz" \
    && tar xzf actions-runner.tar.gz -C /home/runner \
    && rm actions-runner.tar.gz
