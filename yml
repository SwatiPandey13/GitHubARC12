# ===== ADD THE NEW ENTRYPOINT SOLUTION HERE =====
# Multi-purpose entrypoint that handles both Java tools and runner
RUN echo -e '#!/bin/sh\n\
if [ "$1" = "java" ] || [ "$1" = "javac" ] || [ "$1" = "mvn" ]; then\n\
    exec "$@"\n\
else\n\
    cd /home/runner\n\
    exec ./run.sh "$@"\n\
fi' > /entrypoint.sh && \
    chmod +x /entrypoint.sh

ENTRYPOINT ["/entrypoint.sh"]
