- name: Build with Maven
  env:
    MAVEN_OPTS: "--add-modules=jdk.unsupported -Djavax.net.ssl.trustStore=${{ github.workspace }}/custom-cacerts -Djavax.net.ssl.trustStorePassword=changeit"
  run: |
    mvn -B clean package -DskipTests \
      -Dartifactory.resolve.username=${{ secrets.ARTIFACTORY_USERNAME }} \
      -Dartifactory.resolve.password=${{ secrets.ARTIFACTORY_PASSWORD }} \
      -Dmaven.compiler.fork=true
